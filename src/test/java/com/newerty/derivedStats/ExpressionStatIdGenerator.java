package com.newerty.derivedStats;import org.antlr.v4.runtime.ANTLRInputStream;import org.antlr.v4.runtime.CommonTokenStream;import org.antlr.v4.runtime.tree.ParseTree;import org.antlr.v4.runtime.tree.ParseTreeWalker;public class ExpressionStatIdGenerator {    private final DerivedExpressionParser parser;    private final GenerateStatIdsListener generator;    private final String categoryId;    public ExpressionStatIdGenerator(String rawStatId, String categoryId) {        this.categoryId = categoryId;        DerivedExpressionLexer lexer = new DerivedExpressionLexer(new ANTLRInputStream(rawStatId));        lexer.removeErrorListeners();        lexer.addErrorListener(ExpressionErrorListener.INSTANCE);        CommonTokenStream tokens = new CommonTokenStream(lexer);        parser = new DerivedExpressionParser(tokens);        parser.removeErrorListeners();        parser.addErrorListener(ExpressionErrorListener.INSTANCE);        // create an ExpressionStatId from a statId string        generator = new GenerateStatIdsListener(parser,categoryId);    }    public ExpressionStatId generateStatId() {        parser.reset();        ParseTree tree = parser.statId();        ParseTreeWalker walker = new ParseTreeWalker();        walker.walk(generator, tree);        ExpressionStatId statId = generator.getStatId(categoryId);        return statId;    }}